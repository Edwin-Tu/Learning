# Bash (Bourne Again SHell)

Bash（Bourne Again SHell）是 Linux/Unix 常用的命令列殼（shell）與腳本語言。它同時提供互動式命令介面和腳本化自動化能力。輸入指令後，Bash 會解析、執行並回傳輸出與退出代碼（exit code）。

## 常用指令（簡短說明）

- `pwd`：顯示目前目錄
- `ls`：列出檔案
- `cd DIR`：切換目錄
- `cp src dest`：複製
- `mv src dest`：移動或重新命名
- `rm file`：刪除（小心使用 `-r` 或 `--`）
- `mkdir dir`：建立目錄
- `cat` / `less`：查看內容
- `man 命令`：查看手冊頁（例：`man bash`）
- `help 命令`：查看 Bash built-in 幫助（例：`help cd`）

## 範例

```bash
# 顯示目前目錄並列出所有檔案（含隱藏）
pwd
ls -la
```

## 提示符（Prompt）

Bash 提示符是一行顯示在螢幕上的文字，告訴你系統已準備就緒並等待輸入。預設提示通常包含使用者名稱、主機名稱與目前所在目錄，例如：

```
username@hostname:/current/path$
```

提示字元有幾個常見行為：
- 使用者主目錄會用波浪號 `~` 表示（例如 `~/project`）。
- 非特權使用者通常以 `$` 作為結尾字元；root（特權）使用者常以 `#` 作為結尾。
- 若系統沒有設定完整的 `PS1`，可能只會顯示簡單的 `$` 或 `#`。

PS1 變數控制提示符的顯示，透過在 shell 設定檔（例如 `~/.bashrc`）中設定，你可以自訂提示符，加入顏色、時間、IP、上一條命令的退出狀態等等。

### 常用的 PS1 特殊字元（示例）

| 特殊字元 | 說明 |
|---|---|
| `\\d` | 日期（例如：Feb  6） |
| `\\D{format}` | 自訂日期格式（例如：`\\D{%Y-%m-%d}`） |
| `\\h` | 主機名（第一部分） |
| `\\H` | 完整主機名 |
| `\\j` | 由 shell 管理的作業數量 |
| `\\n` | 換行 |
| `\\r` | 回車 |
| `\\s` | 外殼的名稱 |
| `\\t` | 當前時間（24 小時制，HH:MM:SS） |
| `\\T` | 當前時間（12 小時制，HH:MM:SS） |
| `\\@` | 當前時間（12 小時制 AM/PM） |
| `\\u` | 目前使用者名稱 |
| `\\w` | 目前工作目錄（完整路徑，家目錄以 `~` 顯示） |
| `\\W` | 目前工作目錄的最後一個路徑元件 |

> 小提醒：表格中 `\\` 是為了在 Markdown 檔案中正確顯示反斜線字元（PS1 中實際使用時請用單個 `\\`）。

### 範例：簡單與彩色提示符

- 簡單範例（暫時生效）：

```bash
# 顯示 username@hostname:cwd$
PS1='\\u@\\h:\\w\\$ '
```

- 帶顏色的範例（暫時生效）：

```bash
# 綠色 username，藍色目錄，結尾為 $
PS1='\\[\\e[32m\\]\\u@\\h\\[\\e[0m\\]:\\[\\e[34m\\]\\w\\[\\e[0m\\]\\$ '
```

將上述設定加入 `~/.bashrc`（或 `~/.bash_profile`，視使用者設定而定）即可在每次開啟互動式 shell 時自動套用：

```bash
# 把 PS1 設定加入 ~/.bashrc
echo "PS1='\\u@\\h:\\w\\$ '" >> ~/.bashrc
# 或直接編輯 ~/.bashrc 並重啟 shell（或使用 source ~/.bashrc）
```

### 進階與實務提示

- 在滲透測試或遠端 shell 時，提示符可能被簡化或不顯示使用者/主機/目錄，這通常是因為環境變數（如 `PS1`）在該 shell 中沒有正確設定。
- 若需要記錄所有使用過的命令，可以使用 `script` 工具或查看 `~/.bash_history`，並搭配時間戳（例如在 `~/.bashrc` 中設定 `HISTTIMEFORMAT`）。
- prompt 可以顯示當前 IP、git 分支或其他動態資訊，但要注意效能與安全（避免在 prompt 中暴露敏感資訊）。

### 參考與工具

- `~/.bashrc`、`~/.bash_profile`（設定持久化 PS1）
- bash-prompt-generator（線上工具，可產生自訂 PS1）
- powerline（進階、漂亮的提示樣式，需額外安裝）
- `man bash`（查詢 PS1 與其他 shell 參數的權威來源）

---

（已將提示描述重點摘入並合併）
